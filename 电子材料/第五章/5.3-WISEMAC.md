# WISE MAC
在LPL MAC中，为了进一步减小发送方发送前导码的开销，缩短发送前导码的时间，一个聪明的做法是让发送方学习并记住邻居节点的苏醒模式，在其快苏醒时再发送前导码。该方法首先出现在WiseMAC中。

在WiseMAC中，节点会将自己下一次苏醒的时间写入ACK消息中。通过这种方式，发送节点收到ACK后存储该信息，并在下次发送数据时利用该信息。首先，发送节点会根据苏醒时间同步自己的发送时间。其次，发送节点计算所需前导码长度，使其尽可能短。发送的前导码的长度为T_P=min(4θt_sync,T_W)，其中θ是时钟漂移，t_sync是自上次同步发生的时刻接收节点预计醒来时刻间的间隔，T_W是接收节点的苏醒周期。图5-21中，给出了WiseMAC机制的示意图。当发送节点有数据要传输时，会根据本地记录的接收节点苏醒时间等待，在预计接收节点苏醒时间之前，提前T_P的时间开始发送前导码。前导码发送结束后，进行数据传输。
WiseMAC能够显著减少前导码的长度，但需要注意的是，WiseMAC的短前导码不能用于发送广播消息。在广播时，仍需要使用长前导码。并且，WiseMAC会引入额外的时间同步开销。


<div align=center>
<img src=".\pics\fig5-WiseMAC工作机制.png" width="50%">

图5-21 WiseMAC工作机制
</div>



